<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Robotics, Artificial Intelligence and Entrepreneurship."><meta name=author content="Ugnius Malūkas"><meta property="og:title" content="Install CUDA 10.1 without APT repistory on Linux Mint 19.3"><meta property="og:description" content="This article shows how to install CUDA 10.1 with cuDNN without adding an APT repository."><meta property="og:type" content="article"><meta property="og:url" content="https://malukas.lt/blog/install-cuda-without-apt-repo-on-linux-mint/"><meta property="og:image" content="https://malukas.lt/icon.png"><meta property="article:published_time" content="2020-02-02T00:00:00+00:00"><meta property="article:modified_time" content="2020-02-02T00:00:00+00:00"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><style type=text/css>html{overflow-y:scroll;padding:0;margin:0;height:100%}body{font-family:Helvetica,Arial,sans-serif;line-height:1.5;font-size:1em;background-color:#fff;color:#555;max-width:45em;padding:1em;margin:0 auto;text-align:justify;display:flex;flex-direction:column;height:100vh}header{margin-bottom:1.5em;line-height:1.3}footer{font-size:.9em;color:#ccc;width:100%;height:3em;display:flex;justify-content:space-between;align-items:center;margin-top:auto}.copyright{float:left}.social{float:right}.icon{margin:0 .2em}svg.icon{width:1.8em;height:1.8em;fill:#ccc}svg.icon:hover{fill:#ff3c3c}object{pointer-events:none}.navigation{font-size:1.2em;justify-content:space-between;align-items:center;flex-flow:row wrap;display:flex;margin-bottom:4em}nav a:not(:last-child){margin-right:1em}h1,h2,h3{font-weight:500;color:#333}h1 a{color:#000}h1 a:hover,h2 a:hover{text-decoration:none}header h1,header h2,header h3{margin:0}h1{font-size:2em}h2{margin-bottom:.5em;font-size:1.5em}h3{font-size:1.17em}a{text-decoration:none;color:#ff3c3c}a:hover{text-decoration:underline}pre{background:#eee}code{padding:.25em;vertical-align:text-bottom;white-space:nowrap}pre{padding:1em;overflow-x:auto}.gallery{justify-content:space-between;display:flex;margin:1em 0}.gallery img{width:100%}.gallery img:not(:last-child){margin-right:1em}.image img{margin-left:auto;margin-right:auto;display:block}.articles article{margin-bottom:2em}time{color:#888}</style><title>Install CUDA 10.1 without APT repistory on Linux Mint 19.3</title></head><body><header class=navigation><h1><a href=/ title="Home page">Ugnius Malūkas</a></h1><nav><a href=/blog/ title="Blog page">Blog</a>
<a href=/about/ title="About page">About</a></nav></header><main><article><header><h2>Install CUDA 10.1 without APT repistory on Linux Mint 19.3</h2><time datetime=2020-02-02>2020 Feb 02 Sun</time>
by <a href=/about class=author>Ugnius Malūkas</a></header><p>These days many people use NVIDIA graphic cards for increasing speed of computing time, for example, calculating outcomes of Machine Learning algorithms. In order to use a graphic processing of Nvidia GPUs, CUDA has to be installed. This article shows how to install CUDA, cuDNN and TensorRT packages without having a Nvidia APT repository.</p><h3 id=installation>Installation</h3><p>Be sure that you have already installed Nvidia GPU drivers. My recommendation is to install it trough Driver Manager.</p><p>1) Download <em>CUDA 10.1</em>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://developer.nvidia.com/compute/cuda/10.1/Prod/local_installers/cuda_10.1.105_418.39_linux.run</code></pre></div><p>2) Run <code>cuda_10.1.105_418.39_linux.run</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo sh cuda_10.1.105_418.39_linux.run</code></pre></div><p>Screen picture:</p><div class=image><img width=100% height=auto src=cuda-installation.png alt="CUDA installation"></div><p>3) After installation you need open <code>/etc/environment</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo nano /etc/environment</code></pre></div><p>Append <code>PATH</code> in <code>/etc/environment</code> file with a following line:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>:/usr/local/cuda-10.1/bin:/usr/local/cuda-10.1/NsightCompute-2019.1</code></pre></div><p>4) Depending on your machine (64-bit or 32-bit) append <code>LD_LIBRARY_PATH</code> (or add if does not exist) in <code>/etc/environment</code>:</p><p>64-bit:</p><pre><code>:/usr/local/cuda-10.1/lib64</code></pre><p>32-bit:</p><pre><code>:/usr/local/cuda-10.1/lib</code></pre><p>5) After 3rd and 4th step your <code>/etc/environment</code> file should look like this:</p><div class=image><img width=100% height=auto src=environment-file.png alt="/etc/environment file"></div><p>6) Restart the computer:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo reboot</code></pre></div><h3 id=validate-cuda-installation>Validate CUDA Installation</h3><p>Go to <code>~/NVIDIA_CUDA-10.1_Samples/</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cd ~/NVIDIA_CUDA-10.1_Samples/</code></pre></div><p>Run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo make</code></pre></div><p>Then go to <code>~/NVIDIA_CUDA-10.1_Samples/0_Simple/asyncAPI</code> and run <code>asyncAPI</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cd ~/NVIDIA_CUDA-10.1_Samples/0_Simple/asyncAPI
./asyncAPI</code></pre></div><p>If there are no errors and just warnings, installation is complete.</p><h3 id=install-cudnn>Install cuDNN</h3><p>Go to <a href=https://developer.nvidia.com/rdp/cudnn-download rel=noreferrer target=_blank>https://developer.nvidia.com/rdp/cudnn-download</a>.</p><p>Press <em>Download cuDNN v7.6.Y, for CUDA 10.1</em>.</p><p>Then press to download these selections:
* <em>cuDNN Runtime Library for Ubuntu18.04 (Deb)</em>,
* <em>cuDNN Developer Library for Ubuntu18.04 (Deb)</em>,
* <em>cuDNN Code Samples and User Guide for Ubuntu18.04 (Deb)</em>.</p><p>Install downloaded files:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sudo dpkg -i libcudnn7_7.6.Y.Z-1+cuda10.1_amd64.deb
sudo dpkg -i libcudnn7-dev_7.6.Y.Z-1+cuda10.1_amd64.deb
sudo dpkg -i libcudnn7-doc_7.6.Y.Z-1+cuda10.1_amd64.deb</code></pre></div><h3 id=verify-installation>Verify Installation:</h3><p>Copy cuDNN samples:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$cp -r /usr/src/cudnn_samples_v7/ ~</code></pre></div><p>Go to <code>mnistCUDNN</code> folder:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ cd ~/cudnn_samples_v7/mnistCUDNN</code></pre></div><p>Compile and run:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ make clean <span style=color:#f92672>&amp;&amp;</span> make
./mnistCUDNN</code></pre></div><p>If you see <strong>Test passed!</strong> at the end of the output then installation is complete.</p><h3 id=optional-install-nvidia-libraries-required-by-tensorflow>(Optional) Install Nvidia Libraries Required by TensorFlow</h3><p>If you are planning to install <em>TensorFlow (2.1.0+)</em>, TensorRT is needed to use that library.</p><p>1) Download and install <code>libnvinfer6</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://developer.download.nvidia.cn/compute/machine-learning/repos/ubuntu1804/x86_64/libnvinfer6_6.0.1-1+cuda10.1_amd64.deb
sudo dpkg -i --ignore-depends<span style=color:#f92672>=</span>libcublas10,cuda-cudart-10-1 libnvinfer6_6.0.1-1+cuda10.1_amd64.deb</code></pre></div><p>2) Download and install <code>libnvinfer-dev</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://developer.download.nvidia.cn/compute/machine-learning/repos/ubuntu1804/x86_64/libnvinfer-dev_6.0.1-1+cuda10.1_amd64.deb
$ sudo dpkg -i --ignore-depends<span style=color:#f92672>=</span>libcublas-dev,cuda-cudart-dev-10-1 libnvinfer-dev_6.0.1-1+cuda10.1_amd64.deb</code></pre></div><p>3) Download and install <code>libnvinfer-plugin</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://developer.download.nvidia.cn/compute/machine-learning/repos/ubuntu1804/x86_64/libnvinfer-plugin6_6.0.1-1+cuda10.1_amd64.deb
$ sudo dpkg -i libnvinfer-plugin6_6.0.1-1+cuda10.1_amd64.deb</code></pre></div><h3 id=conclusion>Conclusion</h3><p>If there is a possibility of having an APT repository, I recommend installing CUDA, cuDNN and TensorRT libraries via APT because many of the above mentioned steps would not be needed and would require less effort.</p></article></main><footer><div class=copyright>© 2020 Ugnius Malūkas</div><div class=social><a href=https://github.com/ugnelis><svg class="icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m256 0C115.390625.0.0 115.390625.0 256c0 119.988281 84.195312 228.984375 196 256v-84.695312c-11.078125 2.425781-21.273438 2.496093-32.550781-.828126-15.128907-4.464843-27.421875-14.542968-36.546875-29.910156-5.816406-9.8125-16.125-20.453125-26.878906-19.671875l-2.636719-29.882812c23.253906-1.992188 43.371093 14.167969 55.3125 34.230469 5.304687 8.921874 11.410156 14.152343 19.246093 16.464843 7.574219 2.230469 15.707032 1.160157 25.183594-2.1875 2.378906-18.972656 11.070313-26.074219 17.636719-36.074219v-.015624c-66.679687-9.945313-93.253906-45.320313-103.800781-73.242188-13.976563-37.074219-6.476563-83.390625 18.238281-112.660156.480469-.570313 1.347656-2.0625 1.011719-3.105469-11.332032-34.230469 2.476562-62.546875 2.984375-65.550781 13.078125 3.867187 15.203125-3.890625 56.808593 21.386718l7.191407 4.320313c3.007812 1.792969 2.0625.769531 5.070312.542969 17.371094-4.71875 35.683594-7.324219 53.726563-7.558594 18.179687.234375 36.375 2.839844 54.464844 7.75l2.328124.234375c-.203124-.03125.632813-.148437 2.035157-.984375 51.972656-31.480469 50.105469-21.191406 64.042969-25.722656.503906 3.007812 14.128906 31.785156 2.917968 65.582031-1.511718 4.65625 45.058594 47.300781 19.246094 115.753906-10.546875 27.933594-37.117188 63.308594-103.796875 73.253907v.015624c8.546875 13.027344 18.816406 19.957032 18.761719 46.832032v105.722656c111.808594-27.015625 196-136.011719 196-256 .003906-140.609375-115.386719-256-255.996094-256zm0 0"/></svg></a><a href=https://www.linkedin.com/in/malukas/><svg class="icon" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m437 0H75C33.648438.0.0 33.648438.0 75v362c0 41.351562 33.648438 75 75 75h362c41.351562.0 75-33.648438 75-75V75c0-41.351562-33.648438-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.539062-13.460938-30-30-30s-30 13.460938-30 30v120h-60V196h60v11.308594C286.71875 202.421875 296.929688 196 316 196c40.691406.042969 75 36.546875 75 79.6875zm0 0"/></svg></a></div></footer></body></html>